(()=>{(function(){"use strict";let i={HEADER_SCROLL_THRESHOLD:50,HEADER_SCROLL_SENSITIVITY:5,PROGRESS_BAR_HEIGHT:2,PARALLAX_MULTIPLIER:.3,PARALLAX_FADE_MULTIPLIER:1.5,IMAGE_FADE_DURATION:600,CODE_COPY_SUCCESS_DURATION:2e3,COPY_BUTTON_ANIMATION_DURATION:350};(()=>{let e=document.querySelector("header"),t=document.querySelector(".blog-name"),r=document.querySelector(".blog-menu");if(!e||!t||!r)return;let l=0,n=!1;function a(){let c=window.scrollY||document.documentElement.scrollTop;Math.abs(c-l)>i.HEADER_SCROLL_SENSITIVITY&&(c>i.HEADER_SCROLL_THRESHOLD&&!n?(e.classList.add("pt-xs"),e.classList.add("pb-xs"),e.classList.add("pr-md"),e.classList.add("pl-md"),t.classList.add("scale-85"),r.classList.add("scale-85"),n=!0):c<=i.HEADER_SCROLL_THRESHOLD&&n&&(e.classList.remove("pt-xs"),e.classList.remove("pb-xs"),e.classList.remove("pr-md"),e.classList.remove("pl-md"),e.classList.add("p-md"),t.classList.remove("scale-85"),r.classList.remove("scale-85"),n=!1)),l=c}function o(){a();let c=!1;window.addEventListener("scroll",()=>{c||(window.requestAnimationFrame(()=>{a(),c=!1}),c=!0)})}return{init:o}})().init(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();let r=document.querySelector(this.getAttribute("href"));r&&r.scrollIntoView({behavior:"smooth",block:"start"})})}),(()=>{if(!document.querySelector("article"))return;let t=document.createElement("div");t.classList.add("progress-bar"),document.body.appendChild(t),window.addEventListener("scroll",()=>{let r=window.innerHeight,l=document.documentElement.scrollHeight,a=window.scrollY/(l-r)*100;t.style.width=Math.min(a,100)+"%"})})(),document.querySelectorAll(".post-card").forEach(t=>{t.addEventListener("mouseenter",function(){this.classList.add("hovering")}),t.addEventListener("mouseleave",function(){this.classList.remove("hovering")})}),document.addEventListener("keydown",e=>{e.key==="Escape"&&window.scrollTo({top:0,behavior:"smooth"})}),(()=>{if(!("IntersectionObserver"in window))return;let e=new IntersectionObserver((t,r)=>{t.forEach(l=>{if(l.isIntersecting){let n=l.target;n.classList.add("loading"),n.dataset.src&&(n.src=n.dataset.src),n.addEventListener("load",()=>{n.classList.remove("loading"),n.classList.add("loaded")}),r.unobserve(n)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})})(),(()=>{let e=document.querySelector(".hero");e&&window.addEventListener("scroll",()=>{let t=window.scrollY;t<window.innerHeight&&(e.style.transform=`translateY(${t*i.PARALLAX_MULTIPLIER}px)`,e.style.opacity=1-t/window.innerHeight*i.PARALLAX_FADE_MULTIPLIER)})})(),document.querySelectorAll("[data-year]").forEach(t=>{t.textContent=new Date().getFullYear()});let p=(()=>{function e(){let o=document.createElement("button");return o.type="button",o.className="code-copy-btn",o.setAttribute("aria-label","Copy code to clipboard"),o.innerHTML='<svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg><span class="copy-icon"></span><span class="copied-text">Copied!</span>',o}function t(o){return o.replace(/\n+$/g,"")}function r(o){o.classList.add("success"),setTimeout(()=>{o.classList.remove("success")},i.CODE_COPY_SUCCESS_DURATION)}function l(o,c){let s=document.createElement("textarea");s.value=o,s.setAttribute("readonly",""),s.style.position="absolute",s.style.left="-9999px",document.body.appendChild(s),s.select();try{document.execCommand("copy"),r(c)}catch(d){console.warn("Copy failed",d)}document.body.removeChild(s)}function n(o,c){let s=t(c.innerText||c.textContent||"");s&&(o.classList.contains("success")||(navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(s).then(()=>{r(o)}).catch(()=>{l(s,o)}):l(s,o)))}function a(){document.querySelectorAll("pre > code").forEach(c=>{let s=c.parentElement;if(!s||s.parentElement&&s.parentElement.classList.contains("code-copy-wrapper"))return;let d=document.createElement("div");d.className="code-copy-wrapper",s.parentNode.insertBefore(d,s),d.appendChild(s);let u=e();u.addEventListener("click",()=>n(u,c)),d.appendChild(u)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();console.log("\u2728 Crafted with precision in Tokyo")})();})();

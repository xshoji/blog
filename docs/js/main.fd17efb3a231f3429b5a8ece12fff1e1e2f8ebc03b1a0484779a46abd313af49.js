(()=>{(function(){"use strict";let l={HEADER_SCROLL_THRESHOLD:50,HEADER_SCROLL_SENSITIVITY:5,PROGRESS_BAR_HEIGHT:2,PARALLAX_MULTIPLIER:.3,PARALLAX_FADE_MULTIPLIER:1.5,IMAGE_FADE_DURATION:600,CODE_COPY_SUCCESS_DURATION:2e3,COPY_BUTTON_ANIMATION_DURATION:350};(()=>{let o=document.querySelector("header"),t=document.querySelector(".blog-name");if(!o||!t)return;let c=0,r=!1;function n(){let e=window.scrollY||document.documentElement.scrollTop;Math.abs(e-c)>l.HEADER_SCROLL_SENSITIVITY&&(e>l.HEADER_SCROLL_THRESHOLD&&!r?(o.classList.add("pt-xs"),o.classList.add("pb-xs"),o.classList.add("pr-md"),o.classList.add("pl-md"),t.classList.remove("text-lg"),t.classList.add("text-base"),r=!0):e<=l.HEADER_SCROLL_THRESHOLD&&r&&(o.classList.remove("pt-xs"),o.classList.remove("pb-xs"),o.classList.remove("pr-md"),o.classList.remove("pl-md"),o.classList.add("p-md"),t.classList.remove("text-base"),t.classList.add("text-lg"),r=!1)),c=e}function i(){n();let e=!1;window.addEventListener("scroll",()=>{e||(window.requestAnimationFrame(()=>{n(),e=!1}),e=!0)})}return{init:i}})().init(),document.querySelectorAll('a[href^="#"]').forEach(o=>{o.addEventListener("click",function(t){t.preventDefault();let c=document.querySelector(this.getAttribute("href"));c&&c.scrollIntoView({behavior:"smooth",block:"start"})})}),(()=>{if(!document.querySelector("article"))return;let t=document.createElement("div");t.classList.add("progress-bar"),document.body.appendChild(t),window.addEventListener("scroll",()=>{let c=window.innerHeight,r=document.documentElement.scrollHeight,i=window.scrollY/(r-c)*100;t.style.width=Math.min(i,100)+"%"})})(),document.querySelectorAll(".post-card").forEach(t=>{t.addEventListener("mouseenter",function(){this.classList.add("hovering")}),t.addEventListener("mouseleave",function(){this.classList.remove("hovering")})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&window.scrollTo({top:0,behavior:"smooth"})}),(()=>{if(!("IntersectionObserver"in window))return;let o=new IntersectionObserver((t,c)=>{t.forEach(r=>{if(r.isIntersecting){let n=r.target;n.classList.add("loading"),n.dataset.src&&(n.src=n.dataset.src),n.addEventListener("load",()=>{n.classList.remove("loading"),n.classList.add("loaded")}),c.unobserve(n)}})});document.querySelectorAll("img[data-src]").forEach(t=>{o.observe(t)})})(),(()=>{let o=document.querySelector(".hero");o&&window.addEventListener("scroll",()=>{let t=window.scrollY;t<window.innerHeight&&(o.style.transform=`translateY(${t*l.PARALLAX_MULTIPLIER}px)`,o.style.opacity=1-t/window.innerHeight*l.PARALLAX_FADE_MULTIPLIER)})})(),document.querySelectorAll("[data-year]").forEach(t=>{t.textContent=new Date().getFullYear()});let m=(()=>{function o(){let e=document.createElement("button");return e.type="button",e.className="code-copy-btn",e.setAttribute("aria-label","Copy code to clipboard"),e.innerHTML='<svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg><span class="copy-icon"></span><span class="copied-text">Copied!</span>',e}function t(e){return e.replace(/\n+$/g,"")}function c(e){e.classList.add("success"),setTimeout(()=>{e.classList.remove("success")},l.CODE_COPY_SUCCESS_DURATION)}function r(e,a){let s=document.createElement("textarea");s.value=e,s.setAttribute("readonly",""),s.style.position="absolute",s.style.left="-9999px",document.body.appendChild(s),s.select();try{document.execCommand("copy"),c(a)}catch(d){console.warn("Copy failed",d)}document.body.removeChild(s)}function n(e,a){let s=t(a.innerText||a.textContent||"");s&&(e.classList.contains("success")||(navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(s).then(()=>{c(e)}).catch(()=>{r(s,e)}):r(s,e)))}function i(){document.querySelectorAll("pre > code").forEach(a=>{let s=a.parentElement;if(!s||s.parentElement&&s.parentElement.classList.contains("code-copy-wrapper"))return;let d=document.createElement("div");d.className="code-copy-wrapper",s.parentNode.insertBefore(d,s),d.appendChild(s);let u=o();u.addEventListener("click",()=>n(u,a)),d.appendChild(u)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()})();console.log("\u2728 Crafted with precision in Tokyo")})();})();

(()=>{(function(){"use strict";function u(){let e=document.createElement("div");return e.className="fixed inset-0 hidden flex items-center justify-center z-9999 opacity-0 transition-slow pointer-events-none",e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-hidden","true"),e.setAttribute("aria-label","\u753B\u50CF\u62E1\u5927\u8868\u793A"),e.innerHTML=`
      <div class="absolute inset-0 bg-black-alpha cursor-zoom-out backdrop-blur"></div>
      <div class="relative w-full h-full flex items-center justify-center p-80-60 z-2" role="document">
        <div class="lightbox-inner relative flex items-center justify-center max-w-full max-h-full scale-95 opacity-0 transition-slow">
          <img src="" alt="" class="max-w-full max-h-full w-auto h-auto block rounded-lg shadow-2xl cursor-default" />
        </div>
      </div>
    `,document.body.appendChild(e),e}function o(e,s){let n=e.querySelector("img"),t=e.querySelector(".lightbox-inner");n.src=s.dataset.fullSrc||s.src,n.alt=s.alt||"",document.body.style.overflow="hidden",e.setAttribute("aria-hidden","false"),e.classList.remove("hidden"),e.classList.add("flex","opacity-100","pointer-events-auto"),t.classList.add("scale-100","opacity-100"),t.classList.remove("scale-95","opacity-0"),e._opener=s;function i(c){c.key==="Escape"&&r(e)}function l(c){c.target.classList.contains("cursor-default")||r(e)}e.addEventListener("keydown",i),e.addEventListener("click",l),e._onKey=i,e._onClick=l}function r(e){let s=e.querySelector(".lightbox-inner");e.classList.remove("flex","opacity-100","pointer-events-auto"),e.classList.add("opacity-0","pointer-events-none"),s.classList.add("scale-95","opacity-0"),s.classList.remove("scale-100","opacity-100"),setTimeout(()=>{e.classList.add("hidden"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="";let n=e._opener;n&&typeof n.focus=="function"&&(n.focus(),setTimeout(()=>{n&&typeof n.blur=="function"&&n.blur()},10));let t=e.querySelector("img");t.src="",e.removeEventListener("keydown",e._onKey),e.removeEventListener("click",e._onClick),e._onKey=null,e._onClick=null},300)}function a(){let e=[".article-content img",".post-card img",".hero img"],s=document.querySelectorAll(e.join(","));if(!s.length)return;let n=u();s.forEach(t=>{t.tabIndex=0,t.classList.add("clickable-image"),t.setAttribute("role","button"),t.setAttribute("aria-label","\u753B\u50CF\u3092\u62E1\u5927\u8868\u793A"),t.addEventListener("click",()=>o(n,t)),t.addEventListener("keydown",i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),o(n,t))})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();})();

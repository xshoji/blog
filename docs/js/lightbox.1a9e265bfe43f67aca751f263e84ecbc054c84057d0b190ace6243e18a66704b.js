(()=>{(function(){"use strict";function l(){let e=document.createElement("div");return e.className="image-lightbox",e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-hidden","true"),e.setAttribute("aria-label","\u753B\u50CF\u62E1\u5927\u8868\u793A"),e.innerHTML=`
      <div class="image-lightbox__overlay"></div>
      <div class="image-lightbox__content" role="document">
        <div class="image-lightbox__inner">
          <img src="" alt="" class="image-lightbox__img" />
        </div>
      </div>
    `,document.body.appendChild(e),e}function c(e,t){let i=e.querySelector(".image-lightbox__img");i.src=t.dataset.fullSrc||t.src,i.alt=t.alt||"",document.body.style.overflow="hidden",e.setAttribute("aria-hidden","false"),e.classList.add("open"),e._opener=t;function n(s){s.key==="Escape"&&r(e)}function o(s){s.target.classList.contains("image-lightbox__img")||r(e)}e.addEventListener("keydown",n),e.addEventListener("click",o),e._onKey=n,e._onClick=o}function r(e){e.classList.remove("open"),e.classList.add("closing"),setTimeout(()=>{e.classList.remove("closing"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="";let t=e._opener;t&&typeof t.focus=="function"&&(t.focus(),setTimeout(()=>{t&&typeof t.blur=="function"&&t.blur()},10));let i=e.querySelector(".image-lightbox__img");i.src="",e.removeEventListener("keydown",e._onKey),e.removeEventListener("click",e._onClick),e._onKey=null,e._onClick=null},300)}function a(){let e=[".article-content img",".post-card img",".hero img"],t=document.querySelectorAll(e.join(","));if(!t.length)return;let i=l();t.forEach(n=>{n.tabIndex=0,n.classList.add("clickable-image"),n.setAttribute("role","button"),n.setAttribute("aria-label","\u753B\u50CF\u3092\u62E1\u5927\u8868\u793A"),n.addEventListener("click",()=>c(i,n)),n.addEventListener("keydown",o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),c(i,n))})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();})();

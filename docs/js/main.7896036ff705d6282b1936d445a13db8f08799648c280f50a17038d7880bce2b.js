(()=>{(function(){"use strict";let i={HEADER_SCROLL_THRESHOLD:50,HEADER_SCROLL_SENSITIVITY:5,PROGRESS_BAR_HEIGHT:2,PARALLAX_MULTIPLIER:.3,PARALLAX_FADE_MULTIPLIER:1.5,IMAGE_FADE_DURATION:600,CODE_COPY_SUCCESS_DURATION:2e3,COPY_BUTTON_ANIMATION_DURATION:350};(()=>{let n=document.querySelector("header");if(!n)return;let e=0,s=!1;function l(){let c=window.scrollY||document.documentElement.scrollTop;Math.abs(c-e)>i.HEADER_SCROLL_SENSITIVITY&&(c>i.HEADER_SCROLL_THRESHOLD&&!s?(n.classList.add("scrolled"),s=!0):c<=i.HEADER_SCROLL_THRESHOLD&&s&&(n.classList.remove("scrolled"),s=!1)),e=c}function r(){l();let c=!1;window.addEventListener("scroll",()=>{c||(window.requestAnimationFrame(()=>{l(),c=!1}),c=!0)})}return{init:r}})().init(),document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(e){e.preventDefault();let s=document.querySelector(this.getAttribute("href"));s&&s.scrollIntoView({behavior:"smooth",block:"start"})})});let m=(()=>{if(!document.querySelector("article"))return;let e=document.createElement("div");e.classList.add("progress-bar"),document.body.appendChild(e),window.addEventListener("scroll",()=>{let s=window.innerHeight,l=document.documentElement.scrollHeight,c=window.scrollY/(l-s)*100;e.style.width=Math.min(c,100)+"%"})})();document.querySelectorAll(".post-card").forEach(e=>{e.addEventListener("mouseenter",function(){this.classList.add("hovering")}),e.addEventListener("mouseleave",function(){this.classList.remove("hovering")})}),document.addEventListener("keydown",n=>{n.key==="Escape"&&window.scrollTo({top:0,behavior:"smooth"})});let E=(()=>{if(!("IntersectionObserver"in window))return;let n=new IntersectionObserver((e,s)=>{e.forEach(l=>{if(l.isIntersecting){let r=l.target;r.classList.add("loading"),r.dataset.src&&(r.src=r.dataset.src),r.addEventListener("load",()=>{r.classList.remove("loading"),r.classList.add("loaded")}),s.unobserve(r)}})});document.querySelectorAll("img[data-src]").forEach(e=>{n.observe(e)})})(),L=(()=>{let n=document.querySelector(".hero");n&&window.addEventListener("scroll",()=>{let e=window.scrollY;e<window.innerHeight&&(n.style.transform=`translateY(${e*i.PARALLAX_MULTIPLIER}px)`,n.style.opacity=1-e/window.innerHeight*i.PARALLAX_FADE_MULTIPLIER)})})();document.querySelectorAll("[data-year]").forEach(e=>{e.textContent=new Date().getFullYear()});let f=(()=>{function n(){let t=document.createElement("button");return t.type="button",t.className="code-copy-btn",t.setAttribute("aria-label","Copy code to clipboard"),t.innerHTML='<svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg><span class="copy-icon"></span><span class="copied-text">Copied!</span>',t}function e(t){return t.replace(/\n+$/g,"")}function s(t){t.classList.add("success"),setTimeout(()=>{t.classList.remove("success")},i.CODE_COPY_SUCCESS_DURATION)}function l(t,a){let o=document.createElement("textarea");o.value=t,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o),o.select();try{document.execCommand("copy"),s(a)}catch(d){console.warn("Copy failed",d)}document.body.removeChild(o)}function r(t,a){let o=e(a.innerText||a.textContent||"");o&&(t.classList.contains("success")||(navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(o).then(()=>{s(t)}).catch(()=>{l(o,t)}):l(o,t)))}function c(){document.querySelectorAll("pre > code").forEach(a=>{let o=a.parentElement;if(!o||o.parentElement&&o.parentElement.classList.contains("code-copy-wrapper"))return;let d=document.createElement("div");d.className="code-copy-wrapper",o.parentNode.insertBefore(d,o),d.appendChild(o);let u=n();u.addEventListener("click",()=>r(u,a)),d.appendChild(u)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",c):c()})();console.log("\u2728 Crafted with precision in Tokyo")})();})();

(()=>{(function(){"use strict";function u(){let e=document.createElement("div");return e.className="fixed inset-0 hidden flex items-center justify-center z-[9999] opacity-0 transition duration-400 pointer-events-none",e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-hidden","true"),e.setAttribute("aria-label","\u753B\u50CF\u62E1\u5927\u8868\u793A"),e.innerHTML=`
       <div class="absolute inset-0 bg-[rgba(0,0,0,0.7)] cursor-zoom-out backdrop-blur"></div>
       <div class="relative w-full h-full flex items-center justify-center p-[80px_60px] z-2" role="document">
         <div class="lightbox-inner relative flex items-center justify-center max-w-full max-h-full scale-95 opacity-0 transition duration-400">
          <img src="" alt="" class="max-w-full max-h-full w-auto h-auto block rounded-lg shadow-2xl cursor-default" />
        </div>
      </div>
    `,document.body.appendChild(e),e}function c(e,i){let n=e.querySelector("img"),t=e.querySelector(".lightbox-inner");n.src=i.dataset.fullSrc||i.src,n.alt=i.alt||"",document.body.style.overflow="hidden",e.setAttribute("aria-hidden","false"),e.classList.remove("hidden"),e.classList.add("flex","opacity-100","pointer-events-auto"),t.classList.add("scale-100","opacity-100"),t.classList.remove("scale-95","opacity-0"),e._opener=i;function s(r){r.key==="Escape"&&o(e)}function l(r){r.target.classList.contains("cursor-default")||o(e)}e.addEventListener("keydown",s),e.addEventListener("click",l),e._onKey=s,e._onClick=l}function o(e){let i=e.querySelector(".lightbox-inner");e.classList.remove("flex","opacity-100","pointer-events-auto"),e.classList.add("opacity-0","pointer-events-none"),i.classList.add("scale-95","opacity-0"),i.classList.remove("scale-100","opacity-100"),setTimeout(()=>{e.classList.add("hidden"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="";let n=e._opener;n&&typeof n.focus=="function"&&(n.focus(),setTimeout(()=>{n&&typeof n.blur=="function"&&n.blur()},10));let t=e.querySelector("img");t.src="",e.removeEventListener("keydown",e._onKey),e.removeEventListener("click",e._onClick),e._onKey=null,e._onClick=null},300)}function a(){let e=[".article-content img",".post-card img",".hero img"],i=document.querySelectorAll(e.join(","));if(!i.length)return;let n=u();i.forEach(t=>{t.tabIndex=0,t.classList.add("clickable-image"),t.setAttribute("role","button"),t.setAttribute("aria-label","\u753B\u50CF\u3092\u62E1\u5927\u8868\u793A"),t.addEventListener("click",()=>c(n,t)),t.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),c(n,t))})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})();})();

<!doctype html><html lang=ja dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Posts | xshoji's blog</title><link rel=icon type=image/x-icon href=/favicon.ico><link rel=stylesheet href=/css/main.7b7b848004ec22186d0f48cbdeabe685e1fbd5f2ddb409caa8cbcf7c139c950c.css integrity="sha256-e3uEgATsIhhtD0jL3qvmheH71fLdtAnKqMvPfBOclQw=" crossorigin=anonymous><script src=/js/main.8efc561a4853c73f6c3decb3b33a80113fbca97ca17c301baa4b06eed7f353e5.js integrity="sha256-jvxWGkhTxz9sPeyzszqAET+8qXyhfDAbqksG7tfzU+U=" crossorigin=anonymous defer></script><script src=/js/lightbox.550e4d90ea59c55fb90b08fc2da070e791ab087d60cc52a932b5a5e5a2037547.js integrity="sha256-VQ5NkOpZxV+5Cwj8LaBw55GrCH1gzFKpMrWl5aIDdUc=" crossorigin=anonymous defer></script></head><body><header class="w-full px-4 py-3 md:p-6 border-b border-border bg-surface sticky top-0 z-50 backdrop-blur bg-surface-alpha transition-all duration-150 will-change-transform"><div id=translate-banner class="translate-banner max-w-max mx-auto py-2 px-6 text-sm text-text-tertiary text-center" hidden><a id=translate-link href=# target=_blank rel=noopener class="font-medium transition duration-150 hover:text-accent border-none text-text-tertiary">🌐 <span id=translate-text></span></a></div><div class="max-w-layout mx-auto flex justify-between items-center transition"><h1 class="blog-name text-sm md:text-lg font-sans font-semibold tracking-tight m-0 transition transform-origin-left whitespace-nowrap"><a href=/ class="text-text-primary border-b border-transparent hover:text-accent transition">xshoji's blog</a></h1><nav class="blog-menu m-0 transition duration-150"><ul class="list-none flex gap-6 md:gap-10 items-center"><li class="mb-0 leading-relaxed"><a class="nav-link text-sm font-medium tracking-sm uppercase text-text-secondary border-none py-2 pb-2 relative" href=/about/>About</a></li><li class="mb-0 leading-relaxed"><a class="nav-link text-sm font-medium tracking-sm uppercase text-text-secondary border-none py-2 pb-2 relative" href=/tags/>Tags</a></li><li class="mb-0 leading-relaxed"><a class="nav-link text-sm font-medium tracking-sm uppercase text-text-secondary border-none py-2 pb-2 relative" href=/search/>Search</a></li></ul></nav></div></header><main><article class="max-w-content mx-auto"><header class=mb-12><div class="post-meta flex flex-wrap gap-2 items-center text-xs text-text-tertiary uppercase tracking-wider font-semibold mb-6"><time class=text-accent datetime=2026-01-17T01:03:50+09:00>2026-01-17
</time><span class="w-5 h-px bg-border"></span>
<span class="ml-auto text-right whitespace-nowrap">5 min read</span>
<time class="w-full text-xs text-text-tertiary opacity-85" datetime=2026-02-08T02:23:31+09:00>2026-02-08 <span>(updated)</span></time></div><h1 class="post-title text-2xl font-sans font-semibold leading-snug mt-2 mb-2"><a href=https://blog.xshoji.com/posts/20260117_btt-key-sequence-snippet-issue/ class="text-text-primary border-b border-transparent hover:text-accent">BetterTouchTool: キーシーケンスによるスニペット入力機能が突然動作しなくなったが、OSアップデートで解決した話</a></h1><div class="flex gap-2 flex-wrap"><a href=/tags/bettertouchtool/ class="text-xs px-[0.8rem] py-[0.3rem] bg-accent-light text-accent rounded font-medium tracking-sm border-transparent transition duration-150 hover:bg-accent hover:text-surface hover:border-accent hover:-translate-y-1">#BetterTouchTool</a>
<a href=/tags/btt/ class="text-xs px-[0.8rem] py-[0.3rem] bg-accent-light text-accent rounded font-medium tracking-sm border-transparent transition duration-150 hover:bg-accent hover:text-surface hover:border-accent hover:-translate-y-1">#BTT</a>
<a href=/tags/macos/ class="text-xs px-[0.8rem] py-[0.3rem] bg-accent-light text-accent rounded font-medium tracking-sm border-transparent transition duration-150 hover:bg-accent hover:text-surface hover:border-accent hover:-translate-y-1">#macOS</a>
<a href=/tags/%E3%83%88%E3%83%A9%E3%83%96%E3%83%AB%E3%82%B7%E3%83%A5%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0/ class="text-xs px-[0.8rem] py-[0.3rem] bg-accent-light text-accent rounded font-medium tracking-sm border-transparent transition duration-150 hover:bg-accent hover:text-surface hover:border-accent hover:-translate-y-1">#トラブルシューティング</a></div></header><details id=TableOfContents aria-label=目次><summary><h3 class="text-sm font-semibold mt-0 mb-4 opacity-75">目次</h3></summary><nav id=TableOfContents><ul><li><a href=#はじめに>はじめに</a></li><li><a href=#数日前まで動いていた機能が突然死にました>数日前まで動いていた機能が、突然死にました</a></li><li><a href=#まずはbtt側の不具合を疑ってみた>まずはBTT側の不具合を疑ってみた</a></li><li><a href=#公式フォーラムやxを漁るが誰も騒いでいない>公式フォーラムやXを漁るが、誰も騒いでいない</a></li><li><a href=#現象をちゃんと見ることにした>現象をちゃんと見ることにした</a></li><li><a href=#ググるのを諦めてchatgptに投げた>ググるのを諦めて、ChatGPTに投げた</a></li><li><a href=#乗り気ではなかったがmacos-26-に上げてみた>乗り気ではなかったが、macOS 26 に上げてみた</a></li><li><a href=#教訓この問題は検索では解けなかった>教訓：この問題は「検索」では解けなかった</a></li><li><a href=#おわりに>おわりに</a></li></ul></nav></details><div class="article-content text-base leading-[1.7] text-text-secondary"><blockquote class="my-[var(--space-md)] pl-[var(--space-md)] border-l-[3px] border-accent italic font-sans text-base whitespace-normal [overflow-wrap:anywhere] [word-wrap:break-word] [&_p]:text-text-tertiary [&_a]:text-text-secondary"><p>[ ! ] 2026-02-07(土) 追記</p><blockquote class="my-[var(--space-md)] pl-[var(--space-md)] border-l-[3px] border-accent italic font-sans text-base whitespace-normal [overflow-wrap:anywhere] [word-wrap:break-word] [&_p]:text-text-tertiary [&_a]:text-text-secondary"><p>BetterTouchTool: キーシーケンスによるスニペット入力機能が突然動作しなくなりOSアップデートで解決した..と思ったらただの勘違いだった話（解決編） | xshoji&rsquo;s blog<br><a href=https://blog.xshoji.com/posts/20260207_btt-key-sequence-snippet-issue-solved/ class="text-accent no-underline border-b border-accent hover:text-text-primary hover:border-transparent relative transition-[border-color,color]">https://blog.xshoji.com/posts/20260207_btt-key-sequence-snippet-issue-solved/</a></p></blockquote><p>で本件の根本解決しました。<br>こちらの記事の内容は完全に勘違いだったようです。が、ネタとして残しておきます。</p></blockquote><h2 id=はじめに style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">はじめに</h2><p>普段BTTを愛用していて、キーシーケンスによるスニペット入力をよく使います。
これは、たとえば</p><ul><li><code>;now</code> とタイプすると <code>2026-01-17(土) 02:36:13</code> と展開される</li></ul><p>といったものです。
こういった単純なスニペット展開から、最近だとAIへのプロンプトを呼び出したり大変便利です。</p><p>そんなキーシーケンスによるスニペット入力機能ですが、数日前まで普通に使えていたのに、ある日突然動かなくなりました。</p><p>設定は一切変えていないし、macOSも普段どおり使っているだけです。それなのに、トリガーが一切発火しない。</p><p>最初は「まあBTTだし、たまにあるよね」くらいの気持ちで調査を始めたのですが、結果的にこれはググっても、SNSを見ても、ほぼ辿り着けない系の不具合でした。</p><p>この記事では最終的にどうやって答えに辿り着いたのか、その流れをネタとして書き残しておきます。</p><h2 id=数日前まで動いていた機能が突然死にました style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">数日前まで動いていた機能が、突然死にました</h2><p>使えなくなったのは、BTTの Keyboard Sequence トリガー を使ったスニペット機能です。</p><p>ある日（というか今日）、いきなり動作しなくなりました。</p><p>BTTいじってないし、文字通り「何もしてないのに動かなくなりました！！」状態でした。</p><h2 id=まずはbtt側の不具合を疑ってみた style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">まずはBTT側の不具合を疑ってみた</h2><p>真っ先に疑ったのはBTT自身の不具合です。というのも、BTTって結構バグること多くて、マイナーアップデートもかなり頻繁にあるので、またそれかなー程度に思ってました。なので</p><ul><li>最新バージョンへアップデート</li><li>数バージョン前へロールバック</li><li>再起動</li><li>設定のON/OFF</li></ul><p>あたり一通り試してみたのですが、全部ダメでした。
この段階で「BTTのバグっぽくないのでは？」という感触を得ました。
（特に、問題なく動作していたバージョンにロールバックしてもダメだったのが大きかった）</p><h2 id=公式フォーラムやxを漁るが誰も騒いでいない style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">公式フォーラムやXを漁るが、誰も騒いでいない</h2><p>次に念の為、以下を覗いて情報収集してみました。</p><blockquote class="my-[var(--space-md)] pl-[var(--space-md)] border-l-[3px] border-accent italic font-sans text-base whitespace-normal [overflow-wrap:anywhere] [word-wrap:break-word] [&_p]:text-text-tertiary [&_a]:text-text-secondary"><p>BetterTouchTool Community<br><a href=https://community.folivora.ai/ class="text-accent no-underline border-b border-accent hover:text-text-primary hover:border-transparent relative transition-[border-color,color]">https://community.folivora.ai/</a></p></blockquote><blockquote class="my-[var(--space-md)] pl-[var(--space-md)] border-l-[3px] border-accent italic font-sans text-base whitespace-normal [overflow-wrap:anywhere] [word-wrap:break-word] [&_p]:text-text-tertiary [&_a]:text-text-secondary"><p>x.com - search<br><a href="https://x.com/search?q=better%20touch%20tool&amp;src=typed_query" class="text-accent no-underline border-b border-accent hover:text-text-primary hover:border-transparent relative transition-[border-color,color]">https://x.com/search?q=better%20touch%20tool&src=typed_query</a></p></blockquote><p>ですが、全然同じ症状で困っている人が見当たりませんでした。
BTTが壊れているなら、もっと騒ぎになっていてもよさそうなのに、そしてロールバックしてもダメだったことと総合的に考えて、自分環境固有の問題っぽいな、と思い始めたのでした。</p><h2 id=現象をちゃんと見ることにした style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">現象をちゃんと見ることにした</h2><p>ここで方針を変え、「直す」よりも「何が起きているか」を見ることにしてみました。
で、BTTの Keyboard Sequence の設定画面 を開き、実際にキー入力をしてみて気づいたのですが、
なんと設定の時点でキーが認識されないのです。
これはつまり、BTTがキーボードからの入力をそもそも受け取れていない、ということを意味します。</p><p>&mldr;ただ、さらによく観察すると、一部のキーは認識されるというとても奇妙な状態であることがわかりました。</p><ul><li>a, b, c, 1, 2, 3 などのキー → 無反応</li><li>Shift, Control, Command, Tab など → 反応する</li></ul><p>つまり、修飾キーだけは認識されているという状態です。</p><p>この時点で</p><ul><li>キーボード自体の故障ではない（当たり前ですが）</li><li>BTTも一部のキー入力は受け取れている</li></ul><p>ということは確定しました。</p><h2 id=ググるのを諦めてchatgptに投げた style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">ググるのを諦めて、ChatGPTに投げた</h2><p>正直、この状態は症状がニッチすぎるのと、何てググれば良いのかもよくわからない状態になっていたので、これまでの観測結果をそのままChatGPTに投げてみました。</p><p>AIと壁打ちの末、「macOSのセキュリティアップデート」が原因では？という話になり、ChatGPTが以下の仮説を出してきました。</p><ul><li>macOS側が 通常キーのイベントだけを落としている</li><li>修飾キーが通るのは、OS設計上の都合</li><li>直前に行った macOS Sonoma のセキュリティアップデートが怪しい</li></ul><p>言ってなかったんですが、直近macOSのセキュリティのパッチが来てたので、 Sonoma のアップデートを当てたばかりだったんですよね。自分はそこ関係してるとは全く思わなかったので、とりあえず ほーん、くらいに思い一旦休憩しました。</p><h2 id=乗り気ではなかったがmacos-26-に上げてみた style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">乗り気ではなかったが、macOS 26 に上げてみた</h2><p>1時間くらい経ったタイミングで、もう打つ手もないし、OSアップデートするかー、と思い立ち、 macOS 26 に上げることにしました。</p><p>そもそもアップデートしてなかった理由は</p><ul><li>自分のPCが最後のIntel Mac機（2020年製）なのでちゃんと動作するか不安</li><li>PCのスペックが高くないのでシンプルに重そう</li><li>安定性を優先したい、メジャーアップデート直後だし</li></ul><p>という感じで、もう少し様子見してからあげようと思ってたので、渋ってた感じでした。</p><p>ですが、OSが原因なら、上げるしか検証手段がないという結論になり、 <code>macOS Sonoma</code> → <code>macOS 26</code> にアップデート。</p><p>その結果&mldr;. <strong>&ldquo;完全復活&rdquo;</strong> しました🎊</p><p>BTTのキーボードシーケンスも、スニペットも、何事もなかったかのように動き出したのでした。</p><p>ちなみに問題があった時のBTTやmacOSのバージョンは以下の通りです。</p><ul><li>BTT: 6.011</li><li>macOS: Sonoma 14.8.3</li></ul><h2 id=教訓この問題は検索では解けなかった style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">教訓：この問題は「検索」では解けなかった</h2><p>今回遭遇した事象は、ググってもフォーラムを見てもSNSを巡回してもほぼ確実に解決できない類の不具合でした。
というのも、発生条件がだいぶニッチですし、騒がれるほどの母数がないので調べようがない感じだったんですよね。</p><p>ChatGPTに相談してからは</p><ul><li>観測事実を整理</li><li>可能性を一つずつ潰し</li><li>「どこまでがアプリの責任か」を切り分け</li><li>最終的に OSが原因だと腹落ちする</li></ul><p>というところまで辿り着くことできま、マジで助かりました。</p><h2 id=おわりに style=font-family:var(--font-serif) class="leading-[1.2] tracking-[-0.02em] text-text-primary mt-[var(--space-md)] mb-[var(--space-md)] scroll-mt-[calc(var(--space-md)*2*1.2)] transition-colors font-medium text-[1.5rem]">おわりに</h2><p>情報収集にAIを使うのも便利ですが、問題の切り分けや解決策の壁打ち相手にAIを使うことで、解決策が転がってないような課題でも比較的スムーズに解決できることを改めて実感しました。</p><p>BTTに限らず、同じように「理由はわからないけど壊れた」という状況にハマった人の参考になれば幸いです。</p></div></article></main><footer class="w-full p-6 border-t border-border bg-surface"><div class="max-w-layout mx-auto flex justify-between items-center text-sm text-text-tertiary"><p>&copy; 2026 xshoji's blog. Crafted in Tokyo. All rights reserved.</p><nav class="social-links flex gap-6"><a href=https://github.com/xshoji target=_blank rel=noopener class="text-text-tertiary font-medium transition duration-150 hover:text-accent border-none">GitHub</a>
<a href=https://x.com/xshoji2020 target=_blank rel=noopener class="text-text-tertiary font-medium transition duration-150 hover:text-accent border-none">X</a>
<a href=/index.xml class="text-text-tertiary font-medium transition duration-150 hover:text-accent border-none">RSS</a></nav></div></footer></body></html>
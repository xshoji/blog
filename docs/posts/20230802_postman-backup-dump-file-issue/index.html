<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Postmanのエクスポート機能が廃止された件（とその解決策）
| xshoji</title><link rel=stylesheet href=https://blog.xshoji.com/css/site.min.5b92094b89c75bcdd147f48b97e2316a552fe8e8fd10c9bcec6f9270da85c58430668afdaa5479cde87d4e462bea134e7c6f7a22c060c65d1c1e0c1ab2344359.css integrity="sha512-W5IJS4nHW83RR/SLl+IxalUv6Oj9EMm87G+ScNqFxYQwZor9qlR5zeh9TkYr6hNOfG96IsBgxl0cHgwasjRDWQ=="><link rel=canonical href=https://blog.xshoji.com/posts/20230802_postman-backup-dump-file-issue/><link rel=alternate type=application/rss+xml href=https://blog.xshoji.com/index.xml title="xshoji's blog"><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=author content="xshoji"><meta name=description content="はじめに APIの開発で Postman API Platform | Sign Up for Free https://www.postman.com/ を使っていて、最近PC入れ替えを行う際、このPostmanのバックアップ機能（エクスポート機能）が消"><link rel=stylesheet href=https://blog.xshoji.com/css/custom.css><meta property="og:title" content="Postmanのエクスポート機能が廃止された件（とその解決策）"><meta property="og:description" content="はじめに APIの開発で Postman API Platform | Sign Up for Free https://www.postman.com/ を使っていて、最近PC入れ替えを行う際、このPostmanのバックアップ機能（エクスポート機能）が消"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.xshoji.com/posts/20230802_postman-backup-dump-file-issue/"><meta property="article:published_time" content="2023-08-06T13:00:00+09:00"><meta property="article:modified_time" content="2023-08-06T13:00:00+09:00"></head><body><nav class="navbar is-transparent" role=navigation aria-label="main navigation"><div class=navbar-brand><a class=navbar-item href=https://blog.xshoji.com/><figure class=image><img alt class=is-rounded src="https://www.gravatar.com/avatar/dae9579b0a2b7e5f2872d705f228d321?s=128&d=identicon"></figure></a><a class=navbar-item href=https://blog.xshoji.com/>xshoji's blog</a></div><div class=navbar-menu><div class=navbar-start><a class=navbar-item href=https://blog.xshoji.com/tags/posts/>Posts</a></div><div class=navbar-end><a class=navbar-item href=https://github.com/xshoji/ rel=noopener target=_blank><span class=icon><img alt=icons/svg/github.svg src=https://blog.xshoji.com/icons/svg/github.svg></span></a>
<a class=navbar-item href=mailto:shoji.cx@gmail.com target=_blank><span class=icon><img alt=email src=https://blog.xshoji.com/icons/svg/email.svg></span></a>
<a class=navbar-item href=https://blog.xshoji.com/index.xml target=_blank><span class=icon><img alt=rss src=https://blog.xshoji.com/icons/svg/rss.svg></span></a></div></div></nav><section><section class="hero is-small is-dark is-fullwidth"><div class=hero-body><div class=container><h1 class=title>Postmanのエクスポート機能が廃止された件（とその解決策）</h1><h2 class=subtitle><time datetime=2023-08-06T13:00:00+09:00>August 06, 2023</time><br><a class="tag is-link" href=https://blog.xshoji.com/tags/posts/>posts</a></h2></div></div></section><section class=section><div class=container><div class="content is-medium"><h1 id=はじめに>はじめに</h1><p>APIの開発で</p><blockquote><p>Postman API Platform | Sign Up for Free<br><a href=https://www.postman.com/>https://www.postman.com/</a></p></blockquote><p>を使っていて、最近PC入れ替えを行う際、このPostmanのバックアップ機能（エクスポート機能）が消えていて大変困ったため、
何が起こっていたのかなど、Postman側の経緯や、この対策などについてまとめます。</p><h1 id=postmanとはエクスポート機能とは>Postmanとは、エクスポート機能とは</h1><p>Postmanとは、HTTPリクエストをGUIから実行できるツールで、リクエスト内容をスニペット的に保存しておいたり、
一部リクエスト内容を変数化して簡単にリクエスト先やリクエスト内容を切り替えたりすることができ、APIリクエストの確認や管理を効率よく行えます。</p><p>まず、PostmanをAPI開発でどう使ってるの？については、自分は</p><ul><li>APIのリクエストをスニペット的に保存しておく</li><li>APIリクエストのURLやID等を環境変数に切り出し、本番や開発環境などを簡単に呼び出し分ける</li><li>APIを呼び出し前のトークン取得処理をスクリプトで自動化しておき、楽してAPIを呼び出せるようにする</li></ul><p>といった使い方をしてます。
で、最近PCの入れ替えを行った際、APIリクエストや環境変数を一括でエクスポートする機能が削除されていることに気づきました。
このエクスポート機能とは、 APIリクエストや環境変数をまとめて一つのjsonファイルとして吐き出すことができる機能です。
APIリクエストや環境変数などをまとめてバックアップ、あるいは他の人と共有したりすることができるので大変便利でした。（※1）</p><p>※1: APIリクエストのコレクション単位、環境変数単位なら個別にエクスポートすることは引き続きできるようですが、管理が面倒です。</p><blockquote><p>Export all collections in postman - Stack Overflow<br><a href=https://stackoverflow.com/questions/57747235/export-all-collections-in-postman>https://stackoverflow.com/questions/57747235/export-all-collections-in-postman</a></p></blockquote><p>ここで紹介されてる通り、以前はPostmanの設定を一括でエクスポートする機能がありました。
が、最新版（具体的には、バージョン <code>10.10.x</code> あたりから）からはこのエクスポートボタンが消えてます。</p><p>この機能がないと、Postmanで管理してるAPIリクエストや環境変数の情報をバックアップしておくのがとても面倒なため、代替機能含めて
Postman側の案内を探してみることにしました。</p><h1 id=世の中の反応とpostman側の反応>世の中の反応とPostman側の反応</h1><p>で、すぐ見つけたIssueがこちら。</p><blockquote><p>&ldquo;Exporting data to single dump file&rdquo; feature is gone · Issue #11738 · postmanlabs/postman-app-support<br><a href=https://github.com/postmanlabs/postman-app-support/issues/11738>https://github.com/postmanlabs/postman-app-support/issues/11738</a></p></blockquote><p>Postmanのサポートメンバーが</p><blockquote><p>We had to remove the data dump export due to quality and performance issue caused by that capability.<br>データダンプのエクスポートは、その機能によって引き起こされた品質とパフォーマンスの問題のため、削除せざるを得ませんでした。</p></blockquote><p>と言ってます。エクスポートする機能がパフォーマンスの問題になるってあんまりよくわからないですが、とりあえず消したかったようです。</p><p>で、Postman利用者的にはバックアップとかできないと困るので、</p><ul><li>どうやってエクスポートすれば良いのか（代替機能は？）</li><li>エクスポート機能を復活させられないのか</li></ul><p>といった質問がたくさんコメントされてます。</p><p>Postman側としては、アカウント登録をしてクラウドにデータをあげてくれってことのようですが、
社内限定のAPIとかだと クラウドにそういった社内の情報をアップロードできない場合もあるので、
ローカルのファイルにエクスポートする機能がないのは困ると、と言ってる人もいますね。</p><p>ただ、Postmanのサポートとしてはこの機能を復活させる気はないようで、</p><blockquote><p>We understand that your company might not allow you to have data in the cloud, in which case, can you write to us at <a href=mailto:help@postman.com>help@postman.com</a> so that we can understand your company&rsquo;s stance better and help you out.<br>御社がクラウドにデータを置くことを許可していないかもしれないことは理解しています。その場合、help@postman.com へ連絡を頂ければ、御社のスタンスをよりよく理解し、お役に立てるようお手伝いします。</p></blockquote><p>と回答されてます。</p><p>他にも</p><blockquote><p>Backup all Postman collection at once - Help - Postman Community<br><a href=https://community.postman.com/t/backup-all-postman-collection-at-once/44030>https://community.postman.com/t/backup-all-postman-collection-at-once/44030</a></p></blockquote><blockquote><p>(2) Vinayak on Twitter: &ldquo;by deprecating postman scratchpad and forcing people to move online i feel many people will look for alternatives.. nightmare.. initially free tool.. then y&rsquo;all move to cloud and share your data with us.. fckin keys n all. https://t.co/fcZvaT2ur1.&rdquo; / X<br><a href=https://twitter.com/Vgkud/status/1686385429371863047>https://twitter.com/Vgkud/status/1686385429371863047</a></p></blockquote><p>などで同じ話題を見つけました。</p><p>このツイートのコメントにある通り、どうやらPostman側はオンラインでユーザーのデータを管理する流れに持っていきたいようですね。</p><p>まとめると、Postmanの最新版で、エクスポート機能を使うことはできないし、今後復活することもない、という状況のようです。</p><h1 id=どうすれば良いか>どうすれば良いか</h1><p>エクスポート機能を復活させるためにどうすれば良いか考えました。</p><p>まず、公式を見てみると、</p><blockquote><p>exporting-data-dumps - Exporting data from Postman | Postman Learning Center<br><a href=https://learning.postman.com/docs/getting-started/importing-and-exporting/exporting-data/#exporting-data-dumps>https://learning.postman.com/docs/getting-started/importing-and-exporting/exporting-data/#exporting-data-dumps</a></p></blockquote><p>Postmanのアカウントを持っている場合は、 <code>Request Data Export</code> というリクエストを送ることで、Postmanのクラウド上に保存されてるデータをエクスポートするリクエストを送ることができるようです。</p><p>もし、Postmanのアカウントを作っていて、クラウド上にデータが保存されてる場合はこの方法が使えそうです。</p><p>一方で、Postmanのクラウド上にデータを保存したくない、という人の場合は、 過去のバージョンのPostmanを導入すればエクスポート機能を使えるはずです。</p><p>ここでは、過去バージョンのPostmanを入れる手順と、強制アップデートを停止させる手順をまとめます。</p><h2 id=バックアップファイルを探して退避する>バックアップファイルを探して退避する</h2><p>まず、Postmanのバージョンが <code>10.10.x</code> 以降になってしまってる場合は、エクスポート機能が使えるバージョンまでダウングレードする必要があります。
ただし、無理やりPostmanのバージョンをダウングレードすると、アプリのバージョンの不一致が発生してアプリが起動できなくなります。
このため、Postmanの再インストールが必要ですが、そうなると現在の設定が全て失われてしまうので困ります。</p><p>これについて、現状の最新の設定はエクスポートできないのですが、</p><blockquote><p>issuecomment-1547470846 - &ldquo;Exporting data to single dump file&rdquo; feature is gone · Issue #11738 · postmanlabs/postman-app-support<br><a href=https://github.com/postmanlabs/postman-app-support/issues/11738#issuecomment-1547470846>https://github.com/postmanlabs/postman-app-support/issues/11738#issuecomment-1547470846</a></p></blockquote><p>のコメントにある通り、 <code>AppData/Roaming/Postman</code> ディレクトリに自動的に作成されたバックアップファイル（jsonファイル）が存在するそうです。
なので、まずはこのバックアップファイルを安全な場所に退避させましょう。</p><p>MacOSの場合は、</p><ul><li><code>/Users/${USER}/Library/Application\ Support/Postman</code></li></ul><p>にあると思います。</p><p>このバックアップファイルは、Postmanのバージョンが更新された際に作成されるようで、
エクスポート機能で作成されるものと同じフォーマットのようです。
なので、古いPostmanをインストールし直したあと、このバックアップファイルをインポートすれば設定を復活させられます。</p><p>（ただし、自動作成されるバックアップファイルのため一部情報が古い可能性があります。）</p><h2 id=エクスポート機能付きのpostmanをインストールする>エクスポート機能付きのPostmanをインストールする</h2><p>次に、エクスポート機能が削除される直前のバージョン</p><ul><li>10.9.4</li></ul><p>をインストールします。
このとき、インストール済みのPostmanを完全に削除してからインストールしなおしてください。</p><p>MacOSの場合</p><p><code>brew install --cask https://raw.githubusercontent.com/Homebrew/homebrew-cask/dd2835a0d6c540843de2533cc626412781813977/Casks/postman.rb</code></p><p>でインストールできます。</p><p>これで、エクスポート機能が利用できるPostmanをインストールできます。</p><h2 id=自動アップデートを無効にする>自動アップデートを無効にする</h2><p>実は過去バージョンのPostmanをインストールしただけでは、自動アップデートが発動して強制的に最新バージョンへ更新されてしまいます。</p><p>これは、Postmanの設定にある <code>Updates -> Automatically download major updates</code> をOFFにしても強制的に更新されてしまうようです。</p><p>この問題を解決するためには、</p><blockquote><p>How to disable auto update of Postman app - Stack Overflow<br><a href=https://stackoverflow.com/questions/62324217/how-to-disable-auto-update-of-postman-app>https://stackoverflow.com/questions/62324217/how-to-disable-auto-update-of-postman-app</a></p></blockquote><p>で質問されてる通り、Postmanの更新サーバーへの通信をHostsの設定で遮断してやる必要があります。</p><p>このため、以下の設定を <code>/etc/hosts</code> に追記します。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cat /etc/hosts
<span style=color:#75715e># Disable update postman</span>
0.0.0.0         dl.pstmn.io
0.0.0.0         sync-v3.getpostman.com
0.0.0.0         getpostman.com
0.0.0.0         go.pstmn.io
</code></pre></div><p>こうすることで、Postmanの強制アップデートを停止でき、エクスポート機能付きのバージョンを使い続ける事ができます。</p><h2 id=バックアップしておいたjsonをインポートする>バックアップしておいたjsonをインポートする</h2><p>最初にバックアップしておいたjsonファイルをインストールしたPostmanにインポートします。</p><p>これで、過去バージョンのPostmanをインストールした状態で、設定を復元できます。</p><p>また自動アップデートも停止されているのでエクスポート機能が消された最新バージョンに意図せず更新されてしまうこともなくなります。</p><h1 id=そもそもpostmanから別のツールに乗り換えたい>そもそもPostmanから別のツールに乗り換えたい</h1><blockquote><p>The Collaborative API Development Platform - Insomnia<br><a href=https://insomnia.rest/>https://insomnia.rest/</a></p></blockquote><blockquote><p>Kong/insomnia: The open-source, cross-platform API client for GraphQL, REST, WebSockets and gRPC.<br><a href=https://github.com/Kong/insomnia>https://github.com/Kong/insomnia</a></p></blockquote><p>オープンソースで開発されてるInsomniaならユーザーファーストで開発されてるはずなのでPostmanみたいなことは起こらなさそう、と思いました。</p><p>ちなみに、Postmanの設定をInsomniaのインポートデータに変換するスクリプトを作っている人を見つけました。</p><blockquote><p>Postman to Insomnia – allsyed&rsquo;s blog<br><a href=https://allsyed.com/posts/postman-to-insomnia/>https://allsyed.com/posts/postman-to-insomnia/</a></p></blockquote><p>こちらを使ってPostmanの設定をInsomniaの設定にマイグレできるみたいなので使ってみても良いかもしれません。</p></div></div></section></section><footer class=footer><div class="content has-text-centered"><p><a href=https://github.com/orf/bare-hugo-theme target=_blank>Bare Hugo theme.</a>
Blog source code <a href=https://github.com/xshoji/blog target=_blank>available on Github</a>.</p></div></footer></body></html>